API для удаления несвязанных данных (PUD) используются для удаления произвольных бинарных файлов, существующих в файловом хранилище, на которые нет ссылок в Artifactory. Поскольку на эти бинарные файлы нет ссылок, их нельзя удалить с помощью Сборщика мусора (Garbage Collection) Artifactory, и единственный способ удалить их — это использование API PUD или пользовательского интерфейса PUD. Существует три API PUD:

Запустить процесс PUD

Получить статус процесса PUD

Остановить процесс PUD

API Запустить процесс PUD содержит различные параметры, которые позволяют контролировать выполнение процесса PUD. По умолчанию этот API инициирует процесс PUD с начала списка каталогов. Однако в API есть параметр для запуска процесса с определенного каталога, а также параметр для запуска процесса с определенного бинарного файла в каталоге. Вы также можете выбрать, чтобы не удалять несвязанные бинарные файлы, созданные после определенной даты, и доступна опция пробного запуска (dry-run). Эта опция позволяет выполнить процесс PUD без фактического удаления несвязанных бинарных файлов (это может быть полезно для оценки количества таких файлов в каждом каталоге без их реального удаления).

API Получить статус процесса PUD возвращает текущий статус процесса PUD (т.е. выполняется, остановлен, завершен или ошибка) вместе с соответствующей информацией о процессе, такой как общее количество удаленных бинарных файлов, общий объем очищенного дискового пространства, информация о последнем обработанном каталоге и другие данные.

Если вы хотите завершить процесс PUD до того, как он дойдет до конца списка каталогов, API Остановить процесс PUD позволяет это сделать.

